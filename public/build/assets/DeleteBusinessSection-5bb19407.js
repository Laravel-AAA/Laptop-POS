import{j as e,r as s}from"./app-6c8ebba6.js";import{t as u}from"./transition-3139b165.js";import{_ as h,D as f,S as b}from"./SecondaryMaterialBtn-f273b818.js";import{I as v}from"./Input-caf1ebb9.js";import{u as N}from"./useBetterForm-3c367401.js";import{S as D}from"./SupportEmailLink-25e0032c.js";import"./index-ba84c590.js";import"./index-81b84862.js";import"./index-387d7a00.js";import"./ErrorMessage-b84377ec.js";function C({children:a,show:o=!1,maxWidth:t="2xl",closeable:r=!0,onClose:l=()=>{}}){const n=()=>{r&&l()},i={sm:"sm:max-w-sm",md:"sm:max-w-md",lg:"sm:max-w-lg",xl:"sm:max-w-xl","2xl":"sm:max-w-2xl"}[t];return e.jsx(u,{show:o,as:s.Fragment,leave:"duration-200",children:e.jsxs(h,{as:"div",id:"modal",className:"fixed inset-0 z-50 flex transform items-center overflow-y-auto px-4 py-6 transition-all sm:px-0",onClose:n,children:[e.jsx(u.Child,{as:s.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"absolute inset-0 bg-gray-500/75"})}),e.jsx(u.Child,{as:s.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:e.jsx(h.Panel,{className:`mb-6 transform overflow-hidden rounded-lg bg-white shadow-xl transition-all sm:mx-auto sm:w-full ${i}`,children:a})})]})})}function W({business:a}){const[o,t]=s.useState(!1),r=s.useRef(null),{data:l,setData:n,delete:i,processing:x,reset:p,errors:c,isDirty:w}=N({password:""}),g=()=>{t(!0)},j=d=>{d.preventDefault(),i(route("business.destroy",a.id),{preserveScroll:!0,onSuccess:()=>m(),onError:F=>{var y;(y=r.current)==null||y.focus()},onFinish:()=>p()})},m=()=>{t(!1),p()};return e.jsx("section",{className:" bg-white p-4 shadow sm:rounded-lg sm:p-8",children:e.jsxs("div",{className:"max-w-3xl space-y-6",children:[e.jsxs("header",{children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Delete Business"}),e.jsx("p",{className:"text-normal mt-3 text-gray-600",children:"When you delete your business, you will lose access to all the resources associated with it, such as accounts, products, bills, and business data. They will be permanently erased from our system and cannot be recovered."}),e.jsx("p",{className:"text-normal mt-3 text-gray-600",children:"To prevent accidental deletion of large businesses, you must first delete all other accounts under your business. This is a safety measure to ensure that you are fully aware of the consequences of deleting your business."}),e.jsxs("p",{className:"text-normal mt-3 text-gray-600",children:["If you have any questions or concerns about deleting your business, please contact us at ",e.jsx(D,{}),". We are happy to assist you with any issues you may have."]})]}),e.jsx(f,{onClick:g,children:"Delete Business"}),e.jsx(C,{show:o,onClose:m,children:e.jsxs("form",{onSubmit:j,className:"p-6",children:[e.jsxs("h2",{className:"text-lg font-medium text-gray-900",children:["Are you sure you want to delete"," ",e.jsx("span",{className:"text-primary-800",children:a.name})," ","business?"]}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"You will lose access to all the resources associated with it, such as accounts, products, bills, and business data. They will be permanently erased from our system and cannot be recovered."}),e.jsx("div",{className:"mt-6",children:e.jsx(v,{id:"password",label:"Password",type:"password",name:"password",ref:r,value:l.password,onChange:d=>n("password",d.target.value),className:"mt-1 block w-3/4",autoFocus:!0,required:!0,placeholder:"Password",errorMsg:c.password||c.serverError,hideError:!!c.serverError||w("password"),disabled:x})}),e.jsxs("div",{className:"mt-6 flex justify-end",children:[e.jsx(b,{onClick:m,children:"Cancel"}),e.jsx(f,{type:"submit",className:"ml-3",disabled:x,children:"Delete Business"})]})]})})]})})}export{W as default};
